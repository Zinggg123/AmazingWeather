# AmazingWeather项目文档
## 总述
本项目实现了一个简易的天气APP，实现了查询特定城市当前的天气信息的功能。

## 项目解析
### 网络模块
在OpenWeatherMap中注册了一个api token，使用该token通过OkHttp发起天气查询请求，并解析json数据得到实时的天气信息（但是不晓得为什么它查到的原始数据里当前温度、最高温、最低温是一样的）。

### 历史记录
每次发起网络请求前会去SQLite数据库中进行查询，查询是否有半小时内的记录。如果有，则可以直接返回；反之，将使用网络模块进行查询，查询完成后会把结果存入数据库，再返回结果。

### MVVM架构
本项目使用MVVM架构，分为"view-viewmodel-model"三个层级，分别包含Activity/Fragment、ViewModel、Respository/数据类等class或object。其中，Respository中对网络请求的函数采用了异步加载的方法，让页面可以更快的响应。

### 界面展示
使用Activity+Fragment实现多城市的天气展示（可以左右滑动切换不同城市的Fragment）。设置了背景图片及隐藏顶边栏，以带来更沉浸的用户体验。

## 不足与补充
### Fragment切换问题
Fragment有个奇怪的问题，只能在往前滑的时候切换Fragment、往后滑就不会切换了。研究了一下好像是Adapter没有更新position的原因，但是暂时不知道如何解决。

### 添加城市接口未实现
右上角有个“+”图标，本来是想设置一个添加城市的功能的（本来是写死的）。那么想要改的话，应该需要在SQLite中创建一个新表（因为关闭APP后再打开还要再生效），此外还会涉及到一些LiveData的监视（？），因为时间原因以及知识不足等原因目前还没有实现。

## 总结
本次项目作为结营的项目，其实自己感觉完成得还是不是那么满意的，有没有解决的bug，也有许多自己都知道可以优化/补充的地方，但是受限于时间或经验，没能做到尽善尽美。不过，正是通过这次训练营的学习与实践，我才有了这样一个宝贵的机会去接触客户端，学习到这样一份技术，非常感谢导师们！